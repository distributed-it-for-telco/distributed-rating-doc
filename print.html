<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Distributed Rating Engine with wasmCloud</title>
                <meta name="robots" content="noindex" />
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="favicon.svg">
                        <link rel="shortcut icon" href="favicon.png">
                <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
                <link rel="stylesheet" href="css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "light" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="about.html">About</a></li><li class="chapter-item expanded affix "><li class="part-title">Concepts</li><li class="chapter-item expanded "><a href="CONCEPTS/concepts.html"><strong aria-hidden="true">1.</strong> Concepts</a></li><li class="chapter-item expanded affix "><li class="part-title">Architecture</li><li class="chapter-item expanded "><a href="ARCHITECTURE/architecture.html"><strong aria-hidden="true">2.</strong> Software architecture</a></li><li class="chapter-item expanded affix "><li class="part-title">Architecture decision records</li><li class="chapter-item expanded affix "><li class="part-title">How-to</li><li class="chapter-item expanded "><a href="HOW-TO/kickstart.html"><strong aria-hidden="true">3.</strong> WasmCloud Kickstart</a></li><li class="chapter-item expanded "><a href="HOW-TO/smithy-notes.html"><strong aria-hidden="true">4.</strong> Smithy</a></li><li class="chapter-item expanded affix "><li class="part-title">Handbook</li><li class="chapter-item expanded "><a href="HANDBOOK/kv-store-management.html"><strong aria-hidden="true">5.</strong> Key-Value store management</a></li><li class="chapter-item expanded "><a href="HANDBOOK/link-management.html"><strong aria-hidden="true">6.</strong> Link management</a></li><li class="chapter-item expanded "><a href="HANDBOOK/shutdown-host.html"><strong aria-hidden="true">7.</strong> Shutdown host</a></li><li class="chapter-item expanded affix "><li class="part-title">Archives</li><li class="chapter-item expanded "><a href="ARCHIVE/rationale.html"><strong aria-hidden="true">8.</strong> Rationale</a></li><li class="chapter-item expanded "><a href="ARCHIVE/requirements.html"><strong aria-hidden="true">9.</strong> Requirements</a></li><li class="chapter-item expanded "><a href="ARCHIVE/model.html"><strong aria-hidden="true">10.</strong> Model</a></li><li class="chapter-item expanded "><a href="ARCHIVE/model-solution1.html"><strong aria-hidden="true">11.</strong> Solution 1</a></li><li class="chapter-item expanded "><a href="ARCHIVE/about-wasmcloud.html"><strong aria-hidden="true">12.</strong> About wasmCloud</a></li><li class="chapter-item expanded "><a href="ARCHIVE/architecture.html"><strong aria-hidden="true">13.</strong> wasmCloud Architecture</a></li><li class="chapter-item expanded "><a href="ARCHIVE/prototype-architecture.html"><strong aria-hidden="true">14.</strong> Prototype Architecture</a></li><li class="chapter-item expanded "><a href="ARCHIVE/technical-requirements.html"><strong aria-hidden="true">15.</strong> Technical requirements</a></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">Distributed Rating Engine with wasmCloud</h1>

                    <div class="right-buttons">
                                                <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        <a href="https://github.com/distributed-it-for-telco" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                                                
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="about-the-distributed-rating-project"><a class="header" href="#about-the-distributed-rating-project">About the distributed-rating project</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="concepts"><a class="header" href="#concepts">Concepts</a></h1>
<h2 id="third-party-management"><a class="header" href="#third-party-management">third party management</a></h2>
<ul>
<li>definitions
<ul>
<li>service vendor: customer-facing tier, manages the customer subscription, billing and payments</li>
<li>service provider: provides a technical service, also acts as a service vendor in B2B2X scenarios</li>
</ul>
</li>
</ul>
<h3 id="basic-case-the-service-vendor-is-the-service-provider"><a class="header" href="#basic-case-the-service-vendor-is-the-service-provider">basic case: the service vendor is the service provider</a></h3>
<ul>
<li>
<p>key ideas</p>
<ul>
<li>usage rating is done client-side via a <strong>rating agent</strong> deployed inside the service client app</li>
<li>a rating agent also acts as an authorization for consuming the service</li>
<li>a rating agents is the implementation of a commercial offer subscibed by the customer, it is managed like a contract</li>
</ul>
</li>
<li>
<p>communication diagram</p>
<p><img src="CONCEPTS/./sequence-3rdparty-basic.drawio.svg" alt="" /></p>
</li>
</ul>
<h3 id="complex-case-service-vendor-and-service-provider"><a class="header" href="#complex-case-service-vendor-and-service-provider">complex case: service vendor and service provider</a></h3>
<ul>
<li>
<p>key ideas</p>
<ul>
<li>the service vendor subscribes to a service provider (exactly like an end-user customer)</li>
<li>the users rating agent is a composite of service vendor and service provider rating agents</li>
<li>the service provider's rating agent is used as the authorization for consuming the service</li>
<li>end-user usage is uploaded to both service vendor and service provider</li>
</ul>
</li>
<li>
<p>communication diagram: service subscription</p>
<p><img src="CONCEPTS/./sequence-3rdparty-complex-subscription.drawio.svg" alt="" /></p>
</li>
<li>
<p>communication diagram: service usage</p>
<p><img src="CONCEPTS/./sequence-3rdparty-complex-usage.drawio.svg" alt="" /></p>
</li>
</ul>
<blockquote>
<p>and what about provisionning?</p>
</blockquote>
<h2 id="counting-and-rating"><a class="header" href="#counting-and-rating">counting and rating</a></h2>
<ul>
<li>
<p>a rating agent is a program specific a service / a commercial offer / a payment mode</p>
</li>
<li>
<p>its implementation will depend on the use cases</p>
<p><img src="CONCEPTS/./contract-agent.drawio.svg" alt="" /></p>
</li>
</ul>
<h3 id="post-paid"><a class="header" href="#post-paid">post-paid</a></h3>
<p>rating agent will</p>
<ul>
<li>authorize the customer to consume the service</li>
<li>generate <strong>rated proofs of service usage</strong> that will be aggregated on the customer bill (maintained by the service vendor)</li>
</ul>
<h3 id="prepaid--bucket-management"><a class="header" href="#prepaid--bucket-management">prepaid / bucket management</a></h3>
<p>rating agent will</p>
<ul>
<li>manage a <strong>stateful service bucket</strong> and consume it according to customer usage</li>
<li>report on the consuption of the service bucket</li>
<li>authorize the customer to consume the service</li>
<li>generates rated proofs of service usage, used for auditing / fraud detection</li>
</ul>
<h3 id="µ-payments"><a class="header" href="#µ-payments">µ-payments</a></h3>
<p>rating agent will</p>
<ul>
<li>trigger payment request and expect payment proof before allowing the usage of the service</li>
<li>authorize the customer to consume the service</li>
<li>generates rated proofs of service usage, used for auditing / fraud detection</li>
</ul>
<h2 id="agent-mandatory-traits"><a class="header" href="#agent-mandatory-traits">agent mandatory traits</a></h2>
<ul>
<li>authorizer trait: <code>authorize(identity) -&gt; key</code></li>
<li>rater trait: <code>rate(usage) -&gt; void</code></li>
</ul>
<h3 id="basic-case"><a class="header" href="#basic-case">basic case</a></h3>
<p><img src="CONCEPTS/./contract-agent-detailed.drawio.svg" alt="" /></p>
<h3 id="composite-case"><a class="header" href="#composite-case">composite case</a></h3>
<p><img src="CONCEPTS/./contract-agent-detailed-composite.drawio.svg" alt="" /></p>
<ul>
<li>note that there is &quot;shortcut&quot; in <code>3. get vendor identity</code>. It does not really return an identity but a &quot;vendor service subscription&quot; authorization token. Check next paragraph</li>
</ul>
<h2 id="identity-management"><a class="header" href="#identity-management">identity management</a></h2>
<p>The IAM have been simplified in the previous diagrams.</p>
<p>We distinguish</p>
<ul>
<li>Client identity (OIDC profile, OAuth token)</li>
<li>Client service subscription authorization token (OAuth token): traded from the client identity, represents the fact that the client has subscribed to the service, regardless its right to access the service (for instance with an empty bucket on a prepaid service)</li>
</ul>
<p>And the same for Service Vendors (which are Clients of Service Providers)</p>
<p>The authorizer trait signature is <code>authorize(service subscription authorization token) -&gt; key</code></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="architecture"><a class="header" href="#architecture">Architecture</a></h1>
<h2 id="wasmcloud-actors"><a class="header" href="#wasmcloud-actors">wasmCloud actors</a></h2>
<p><img src="ARCHITECTURE/./software_architecture.drawio.svg" alt="actors" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="kickstart"><a class="header" href="#kickstart">Kickstart</a></h1>
<p>This document to give you kick to start your journey in Wasmcloud world.</p>
<h1 id="table-of-contents"><a class="header" href="#table-of-contents">Table of contents</a></h1>
<ol>
<li><a href="HOW-TO/kickstart.html#introduction">Introduction</a></li>
<li><a href="HOW-TO/kickstart.html#links">Important links</a></li>
<li><a href="HOW-TO/kickstart.html#install">Installation</a>
<ol>
<li><a href="HOW-TO/kickstart.html#cosmonic">Cosmonic</a></li>
<li><a href="HOW-TO/kickstart.html#wash">Wash cli</a></li>
</ol>
</li>
<li><a href="HOW-TO/kickstart.html#constellations">Use Cosmonic constellations</a></li>
</ol>
<br/>
<br/>
<h2 id="introduction-a-nameintroductiona"><a class="header" href="#introduction-a-nameintroductiona">Introduction <a name="introduction"></a></a></h2>
<p>This document will take you step by step in your journey in Wasmcloud technology , starting from important links you must check passing by installation &amp; running until testing your 1st actor :tada:</p>
<h2 id="important-links-a-namelinksa"><a class="header" href="#important-links-a-namelinksa">Important links <a name="links"></a></a></h2>
<h2 id="installation-a-nameinstalla"><a class="header" href="#installation-a-nameinstalla">Installation <a name="install"></a></a></h2>
<h3 id="cosmonic-a-namecosmonica"><a class="header" href="#cosmonic-a-namecosmonica">Cosmonic <a name="cosmonic"></a></a></h3>
<h3 id="wash-a-namewasha"><a class="header" href="#wash-a-namewasha">Wash <a name="wash"></a></a></h3>
<h2 id="use-cosmonic-constellations-a-nameconstellationsa"><a class="header" href="#use-cosmonic-constellations-a-nameconstellationsa">Use cosmonic constellations <a name="constellations"></a></a></h2>
<div style="break-before: page; page-break-before: always;"></div><h1 id="smithy-notes"><a class="header" href="#smithy-notes">Smithy Notes</a></h1>
<p>This document to give you some notes about smithy with wasmcloud and Rust.</p>
<h1 id="table-of-contents-1"><a class="header" href="#table-of-contents-1">Table of contents</a></h1>
<ol>
<li><a href="HOW-TO/smithy-notes.html#introduction">Introduction</a></li>
<li><a href="HOW-TO/smithy-notes.html#links">Important links</a></li>
<li><a href="HOW-TO/smithy-notes.html#annotation">Annotation traits</a>
<ol>
<li><a href="HOW-TO/smithy-notes.html#codegen">codegen</a></li>
</ol>
</li>
</ol>
<h2 id="introduction-a-nameintroductiona-1"><a class="header" href="#introduction-a-nameintroductiona-1">Introduction <a name="introduction"></a></a></h2>
<p>Every capability provider has a capability contract - an interface definition - that defines a service and a set of operations it supports. Even actor-to-actor messages, which don't use capability contracts, benefit by well-defined API contracts. In wasmCloud, we define these API contracts in Smithy files.</p>
<h2 id="important-links-a-namelinksa-1"><a class="header" href="#important-links-a-namelinksa-1">Important links <a name="links"></a></a></h2>
<p><a href="HOW-TO/smithy-notes.html#https://wasmcloud.com/docs/hosts/abis/wasmbus/interfaces/">Interfaces</a></p>
<h2 id="annotation-traits-a-nameannotationa"><a class="header" href="#annotation-traits-a-nameannotationa">Annotation traits <a name="annotation"></a></a></h2>
<h3 id="codegen-a-namecodegena"><a class="header" href="#codegen-a-namecodegena">codegen <a name="codegen"></a></a></h3>
<p>when can we use this traits will be mentioned in this <a href="HOW-TO/smithy-notes.html#https://wasmcloud.com/docs/hosts/abis/wasmbus/interfaces/traits#codegenrust">link</a>
but the only note you need to know is :</p>
<ul>
<li>you should add the import for codegenrust in your smithy file to see the effect of using this trait </li>
</ul>
<blockquote>
<p>use org.wasmcloud.model#codegenRust</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="runbook--manage-ks-store"><a class="header" href="#runbook--manage-ks-store">Runbook : Manage ks store</a></h1>
<h3 id="product-name-"><a class="header" href="#product-name-">Product name :</a></h3>
<ul>
<li>distributed-rating</li>
</ul>
<h3 id="product-version-"><a class="header" href="#product-version-">Product version :</a></h3>
<ul>
<li>All</li>
</ul>
<h3 id="runbook-goals-"><a class="header" href="#runbook-goals-">Runbook Goals :</a></h3>
<ul>
<li>How to manage kv store using cli </li>
</ul>
<h3 id="preconditions"><a class="header" href="#preconditions">Preconditions</a></h3>
<ul>
<li><a href="https://cosmonic.com/docs/user_guide/cosmo_cli">Cosmonic cli</a> installed</li>
<li><a href="https://wasmcloud.com/docs/installation?os=mac">wash</a> installed</li>
<li><a href="https://docs.nats.io/using-nats/nats-tools/nats_cli">NATS cli</a> installed</li>
</ul>
<h3 id="stages-"><a class="header" href="#stages-">Stages :</a></h3>
<ol>
<li><a href="HANDBOOK/kv-store-management.html#stage1">Stage 1</a> : List kv buckets</li>
<li><a href="HANDBOOK/kv-store-management.html#stage2">Stage 2</a> : List all keys in a bucket</li>
<li><a href="HANDBOOK/kv-store-management.html#stage3">Stage 3</a> : Put key and value</li>
<li><a href="HANDBOOK/kv-store-management.html#stage4">Stage 4</a> : Get value using key</li>
</ol>
<hr />
<h2 id="stage-1--list-kv-buckets-a-namestage1a"><a class="header" href="#stage-1--list-kv-buckets-a-namestage1a">Stage 1 : List kv buckets <a name="stage1"></a></a></h2>
<p>open your terminal and execute the below command</p>
<blockquote>
<p>nats kv -s connect.cosmonic.sh --creds ~/.cosmo/user.creds ls</p>
</blockquote>
<p>This command will retun the buckets in kv store</p>
<h2 id="stage-2--list-all-keys-in-a-bucket-a-namestage2a"><a class="header" href="#stage-2--list-all-keys-in-a-bucket-a-namestage2a">Stage 2 : List all keys in a bucket <a name="stage2"></a></a></h2>
<p>open your terminal and execute the below command</p>
<blockquote>
<p>nats kv -s connect.cosmonic.sh --creds ~/.cosmo/user.creds ls <em><strong>bucket-id</strong></em></p>
</blockquote>
<p><em><strong>bucket-id</strong></em> : is the id of bucket returned from Stage 1 </p>
<h2 id="stage-3--put-key-and-value-a-namestage3a"><a class="header" href="#stage-3--put-key-and-value-a-namestage3a">Stage 3 : put key and value <a name="stage3"></a></a></h2>
<p>open your terminal and execute the below command</p>
<blockquote>
<p>nats kv -s connect.cosmonic.sh --creds ~/.cosmo/user.creds put 125b2a01-09a1-4d64-8bfc-5aa222e9c560 <em><strong>key</strong></em> <em><strong>value</strong></em></p>
</blockquote>
<blockquote>
<p>ex nats kv -s connect.cosmonic.sh --creds ~/.cosmo/user.creds put 125b2a01-09a1-4d64-8bfc-5aa222e9c560 customer1 '{\n        &quot;product&quot;: {\n           &quot;id&quot;:1234,\n           &quot;offerId&quot;:534,\n           &quot;description&quot;:&quot;”Video on Demand”&quot;,\n           &quot;productPrice&quot;: {\n              &quot;description&quot;:&quot;”Cost per movie”&quot;,\n              &quot;validTill&quot;:&quot;1/March/2024&quot;,\n              &quot;priceType&quot;:&quot;non-recurring&quot;,\n              &quot;unitOfMeasure&quot;: {\n                 &quot;amount&quot;:&quot;1&quot;,\n                 &quot;units&quot;:&quot;”movie”&quot;\n              },\n              &quot;price&quot;: {\n                 &quot;unit&quot;:&quot;eur&quot;,\n                 &quot;value&quot;:&quot;1&quot;\n              },\n              &quot;ratingAgent&quot;: {}\n           }\n        }\n    }'</p>
</blockquote>
<h2 id="stage-4--get-value-using-key-a-namestage4a"><a class="header" href="#stage-4--get-value-using-key-a-namestage4a">Stage 4 : Get value using key <a name="stage4"></a></a></h2>
<p>open your terminal and execute the below command</p>
<blockquote>
<p>nats kv -s connect.cosmonic.sh --creds ~/.cosmo/user.creds get <em><strong>bucket-id</strong></em>  <em><strong>key</strong></em> --raw</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="runbook--link-management"><a class="header" href="#runbook--link-management">Runbook : Link management</a></h1>
<h3 id="product-name--1"><a class="header" href="#product-name--1">Product name :</a></h3>
<ul>
<li>distributed-rating</li>
</ul>
<h3 id="product-version--1"><a class="header" href="#product-version--1">Product version :</a></h3>
<ul>
<li>All</li>
</ul>
<h3 id="runbook-goals--1"><a class="header" href="#runbook-goals--1">Runbook Goals :</a></h3>
<ul>
<li>How to manage links throw wash cli</li>
</ul>
<h3 id="preconditions-1"><a class="header" href="#preconditions-1">Preconditions</a></h3>
<ul>
<li><a href="https://cosmonic.com/docs/user_guide/cosmo_cli">Cosmonic cli</a> installed</li>
<li><a href="https://wasmcloud.com/docs/installation?os=mac">wash</a> installed</li>
</ul>
<h3 id="stages--1"><a class="header" href="#stages--1">Stages :</a></h3>
<ol>
<li><a href="HANDBOOK/link-management.html#stage1">Stage 1</a> : Query Links</li>
<li><a href="HANDBOOK/link-management.html#stage2">Stage 2</a> : Delete Link</li>
<li><a href="HANDBOOK/link-management.html#stage3">Stage 3</a> : Create Link</li>
</ol>
<hr />
<h2 id="stage-1--query-links-a-namestage1a"><a class="header" href="#stage-1--query-links-a-namestage1a">Stage 1 : Query Links <a name="stage1"></a></a></h2>
<p>open your terminal and execute the below command</p>
<blockquote>
<p>wash ctl link query -x 125b2a01-09a1-4d64-8bfc-5aa222e9c560 --ctl-port 4222 --ctl-host connect.cosmonic.sh --ctl-credsfile ~/.cosmo/user.creds</p>
</blockquote>
<p>This command will retun the id of the Links</p>
<h2 id="stage-2--delete-link-a-namestage2a"><a class="header" href="#stage-2--delete-link-a-namestage2a">Stage 2 : Delete Link <a name="stage2"></a></a></h2>
<p>open your terminal and execute the below command</p>
<blockquote>
<p>wash ctl link del <em><strong>&lt;link_id&gt;</strong></em> wasmcloud:keyvalue -x 125b2a01-09a1-4d64-8bfc-5aa222e9c560 --ctl-port 4222 --ctl-host connect.cosmonic.sh --ctl-credsfile ~/.cosmo/user.creds</p>
</blockquote>
<p><em><strong>link_id</strong></em> : is the id returned from Stage 1 </p>
<h2 id="stage-3--create-link-a-namestage3a"><a class="header" href="#stage-3--create-link-a-namestage3a">Stage 3 : Create Link <a name="stage3"></a></a></h2>
<p>open your terminal and execute the below command</p>
<blockquote>
<p>wash ctl link put --link-name <em><strong>&lt;LINK_NAME&gt;</strong></em> [OPTIONS] <em><strong><actor-id></strong></em> <em><strong><provider-id></strong></em> <em><strong><contract-id></strong></em></p>
</blockquote>
<p><em><strong>LINK_NAME</strong></em> : the name of the link you need to create
<em><strong>actor-id</strong></em> : the id of the actor which will use this link
<em><strong>provider-id</strong></em> : the id of the provider which the actor will link to
<em><strong>contract-id</strong></em> : the contract id of this provider</p>
<blockquote>
<p>ex :  wash ctl link put -x 125b2a01-09a1-4d64-8bfc-5aa222e9c560 --ctl-port 4222 --ctl-host connect.cosmonic.sh --ctl-credsfile ~/.cosmo/user.creds --link-name local-redis-to-vod-bucket MCS4KQH3XXYN2CA7TIY4OAWE4Q3J6AZSPWX6BK5EOF7MH2FE76NSGYIF VAKKKUUZH6FWYPS3T6WVAESSPVQMQYJ2IRCXGSHYCOISSIUGCXVJYC6M linkwasmcloud:keyvalue</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="runbook--shutdown-a-host"><a class="header" href="#runbook--shutdown-a-host">Runbook : Shutdown a host</a></h1>
<h3 id="product-name--2"><a class="header" href="#product-name--2">Product name :</a></h3>
<ul>
<li>distributed-rating</li>
</ul>
<h3 id="product-version--2"><a class="header" href="#product-version--2">Product version :</a></h3>
<ul>
<li>All</li>
</ul>
<h3 id="runbook-goals--2"><a class="header" href="#runbook-goals--2">Runbook Goals :</a></h3>
<ul>
<li>Shudown a host in a local machine </li>
</ul>
<h3 id="preconditions-2"><a class="header" href="#preconditions-2">Preconditions</a></h3>
<ul>
<li><a href="https://cosmonic.com/docs/user_guide/cosmo_cli">Cosmonic cli</a> installed</li>
<li><a href="https://wasmcloud.com/docs/installation?os=mac">wash</a> installed</li>
</ul>
<h3 id="stages--2"><a class="header" href="#stages--2">Stages :</a></h3>
<ol>
<li><strong>Stage 1</strong> : Get yout local host id</li>
<li><strong>Stage 2</strong> : Stop the host</li>
</ol>
<hr />
<h2 id="stage-1--get-your-local-host-id"><a class="header" href="#stage-1--get-your-local-host-id">Stage 1 : Get your local host id</a></h2>
<p>open your terminal and execute the below command</p>
<blockquote>
<p>wash ctl get hosts -x 125b2a01-09a1-4d64-8bfc-5aa222e9c560 --ctl-port 4222 --ctl-host connect.cosmonic.sh --ctl-credsfile ~/.cosmo/user.creds</p>
</blockquote>
<p>This command will retun the id of the running hosts</p>
<p><img src="HANDBOOK/img/06_10_00.jpg" alt="example!" /></p>
<h2 id="stage-2--stop-the-host"><a class="header" href="#stage-2--stop-the-host">Stage 2 : Stop the host</a></h2>
<p>open your terminal and execute the below command</p>
<blockquote>
<p>wash ctl stop host <em><strong>&lt;host_id&gt;</strong></em> -x 125b2a01-09a1-4d64-8bfc-5aa222e9c560 --ctl-port 4222 --ctl-host connect.cosmonic.sh --ctl-credsfile ~/.cosmo/user.creds</p>
</blockquote>
<p><em><strong>host_id</strong></em> : is the id returned from Stage 1 </p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rationale"><a class="header" href="#rationale">Rationale</a></h1>
<h2 id="context"><a class="header" href="#context">Context</a></h2>
<p>IPCEI CIS WP2</p>
<ul>
<li>Cloud Infrastructure and Services</li>
<li>Work Package #2</li>
<li>Orange submission: open-source and distributed Core Commerce for IT</li>
</ul>
<h2 id="value-proposition"><a class="header" href="#value-proposition">Value proposition</a></h2>
<ul>
<li>
<p>In a complex service ecosystem and/or 5G context, the rating of service usage is highly complex:</p>
<ul>
<li>service providers are no longer those who are in direct contact with the customer or those who invoice the customer, there are aggregators, marketplaces...</li>
<li>the pricing rules for the usage of technical services may be different depending on the reseller (composite services, service bundles, discounts on purchase, on usage)</li>
<li>even more: &quot;à la carte&quot; pricing for each customer</li>
</ul>
</li>
<li>
<p>Rather than uploading raw usage data (~CDR), rated in a centralized rating engine system (or semi-distributed between the various partners who contribute to the final service provided to the customer), we propose to ditribute the rating process to the customer device and upload to the service vendor of usage tickets already valued</p>
<ul>
<li>each of the partners contributes to the specific pricing of the customer, the pricing is made directly at the same time as the consumption of the service</li>
<li>to do a parallel with rights management: it is easier to have components that each carry their authorization model rather than applying the model externally to the entire system</li>
<li>each partner brings (in the form of an agent) the valuation engine of his service, possibly configured / overloaded by a partner reusing this service</li>
<li>&quot;as code&quot; rating engine approach rather than a fixed and parameterized system</li>
</ul>
</li>
<li>
<p>Prerequisites for this scenario are: &quot;reasonably secure&quot; device environment, possibility of deploying code on this environment, ability to detect fraud</p>
</li>
<li>
<p>Orange offers an SDK to its partners allowing them to simply integrate the enhancement of the service into the application used to consume the service</p>
<ul>
<li>the SDK is a wasmcloud-js runtime that can run code (1 or wasmcloud agents) in charge of recovery</li>
<li>the service consumer application feeds the SDK with usage data</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="requirements"><a class="header" href="#requirements">Requirements</a></h1>
<h2 id="main-problematics"><a class="header" href="#main-problematics">Main problematics</a></h2>
<ul>
<li>
<p>build a model that can support all scenarios of an open service ecosystem (B2B2X)</p>
<ul>
<li>vendors, aggregators, marketplaces, dynamic, as-a-service, recharging...</li>
</ul>
</li>
<li>
<p>establish a shared trust between the 3 main actors (Service Provider, Vendor and Consumer)</p>
<ul>
<li>being able to distribute (crypto) proofs <em>of usage, of subscription...</em></li>
<li>&quot;good enought&quot; security model, especially on the users devices</li>
</ul>
</li>
<li>
<p>fraud detection mecanism</p>
</li>
</ul>
<h2 id="requirements-1"><a class="header" href="#requirements-1">Requirements</a></h2>
<ul>
<li>
<p>the solution </p>
<ul>
<li>cannot rely on DPI to identify trafic usage (cf. HTTP2/3/QUIC)</li>
<li>is over-IP</li>
<li>implement (or is frendly to) fraud detection mecanisms and is auditable</li>
<li>does not require prior human agreement between the service vendor and the service provider (self-service)</li>
</ul>
</li>
<li>
<p>optionnally, the solution should</p>
<ul>
<li>be compatible with a non reliable network (intermitent conncectivity, off-line mode)</li>
</ul>
</li>
</ul>
<h2 id="use-cases"><a class="header" href="#use-cases">Use cases</a></h2>
<p>Some base examples, they could be combined</p>
<ul>
<li>customers sharing the same bucket for a given service (eg. Friends and Family offers)</li>
<li>vendors reselling bundles of services with a different tarification (eg. 30% on Netflix + OCS bundle)</li>
<li>composite offer (eg. free dataplan for watching VOD service)</li>
<li>context dependant offers (eg. free videoconference while being at a special event)</li>
<li>sponsored services (eg. third party offering 20% coupons on VOD for two months)</li>
<li>each customer gets its personalized offer</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="model"><a class="header" href="#model">Model</a></h1>
<h2 id="domain-exploration"><a class="header" href="#domain-exploration">Domain exploration</a></h2>
<ul>
<li>3 main actors
<ul>
<li>Service Consumer</li>
<li>Service Vendor</li>
<li>Service Provider</li>
</ul>
</li>
</ul>
<p><img src="ARCHIVE/./model-overview.drawio.svg" alt="" /></p>
<ul>
<li>
<p>concepts</p>
<ul>
<li>rating engine</li>
<li>proofs
<ul>
<li>subscription</li>
<li>usage</li>
<li>identity</li>
</ul>
</li>
</ul>
</li>
<li>
<p>offers</p>
<ul>
<li>on usage</li>
<li>pre-paid
<ul>
<li>can an monthly subscription be seen as pre-paid?</li>
</ul>
</li>
</ul>
</li>
<li>
<p>payments</p>
<ul>
<li>3 types
<ul>
<li>µ-transaction: no billing, 1 usage = 1 <strong>immediate</strong> payment</li>
<li>post-paid: 1 usage = 1 <strong>future</strong> payment on a bill</li>
<li>pre-paid: w/ bucket, 1 usage = 1 bucket update</li>
</ul>
</li>
<li>in a 3-party interaction (user, vendor, provider)
<ul>
<li>either the provider has to trust the vendor to &quot;recover user's paiments&quot; 
<ul>
<li>needs pre-agreement or a base of trusted vendors) <strong>DONT: incompatible w/ requirements</strong></li>
</ul>
</li>
<li>either the vendor is paying the provider immediatly for the user's usage</li>
<li>either the vendor has already bought a &quot;pre-paid bucket&quot; to the provider</li>
</ul>
</li>
</ul>
</li>
<li>
<p>B2B2C scenarios, bucket delegation</p>
<ul>
<li>the vendor buys pre-paid bucket to the provider
<ul>
<li>it can split it among it's users
<ul>
<li>user is paying the usage directly to the provider</li>
</ul>
</li>
<li>or decide to have an other payment type (µ-payment, billing)
<ul>
<li>vendor is paying the usage to the provider</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="findings"><a class="header" href="#findings">findings</a></h3>
<ul>
<li>billing is a vendors responsibility, not a provider one</li>
<li>it might be simplier (ie. support more scenarios) to always have a user&gt;vendor&gt;provider chain instead of a direct user&gt;provider relation</li>
</ul>
<h3 id="to-be-discussed"><a class="header" href="#to-be-discussed">to be discussed</a></h3>
<ul>
<li>
<p>entities modeling</p>
<ul>
<li>are Service Vendors also service providers?</li>
<li>are service Vendors also service consumers?</li>
<li>implementation note: instead of inheritance we can use traits</li>
</ul>
</li>
<li>
<p>where shoud the usage proof go ?</p>
<ul>
<li>service vendor / provider / both</li>
<li>avoid proxies</li>
</ul>
</li>
<li>
<p>similar / alternative approaches</p>
<ul>
<li><a href="https://www.mavoco.com/cmp-connenctivity-management-platform/connectivity-online-usage-controller/">Distributed IoT Online Rating – The Global Rating Grid @mavoco.com</a></li>
<li>are there research papers on the subject?</li>
<li>Shine (Orange internal project) third party use-cases</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="solution-1"><a class="header" href="#solution-1">Solution 1</a></h1>
<p>proposed solution (WIP)</p>
<h2 id="third-party-management-1"><a class="header" href="#third-party-management-1">third party management</a></h2>
<ul>
<li>definitions
<ul>
<li>service vendor: customer-facing tier, manages the customer subscription, billing and payments</li>
<li>service provider: provides a technical service, also acts as a service vendor in B2B2X scenarios</li>
</ul>
</li>
</ul>
<h3 id="basic-case-the-service-vendor-is-the-service-provider-1"><a class="header" href="#basic-case-the-service-vendor-is-the-service-provider-1">basic case: the service vendor is the service provider</a></h3>
<ul>
<li>
<p>key ideas</p>
<ul>
<li>usage rating is done client-side via a <strong>rating agent</strong> deployed inside the service client app</li>
<li>a rating agent also acts as an authorization for consuming the service</li>
<li>a rating agents is the implementation of a commercial offer subscibed by the customer, it is managed like a contract</li>
</ul>
</li>
<li>
<p>communication diagram</p>
<p><img src="ARCHIVE/./sequence-3rdparty-basic.drawio.svg" alt="" /></p>
</li>
</ul>
<h3 id="complex-case-service-vendor-and-service-provider-1"><a class="header" href="#complex-case-service-vendor-and-service-provider-1">complex case: service vendor and service provider</a></h3>
<ul>
<li>
<p>key ideas</p>
<ul>
<li>the service vendor subscribes to a service provider (exactly like an end-user customer)</li>
<li>the users rating agent is a composite of service vendor and service provider rating agents</li>
<li>the service provider's rating agent is used as the authorization for consuming the service</li>
<li>end-user usage is uploaded to both service vendor and service provider</li>
</ul>
</li>
<li>
<p>communication diagram: service subscription</p>
<p><img src="ARCHIVE/./sequence-3rdparty-complex-subscription.drawio.svg" alt="" /></p>
</li>
<li>
<p>communication diagram: service usage</p>
<p><img src="ARCHIVE/./sequence-3rdparty-complex-usage.drawio.svg" alt="" /></p>
</li>
</ul>
<blockquote>
<p>and what about provisionning?</p>
</blockquote>
<h2 id="counting-and-rating-1"><a class="header" href="#counting-and-rating-1">counting and rating</a></h2>
<ul>
<li>
<p>a rating agent is a program specific a service / a commercial offer / a payment mode</p>
</li>
<li>
<p>its implementation will depend on the use cases</p>
<p><img src="ARCHIVE/./contract-agent.drawio.svg" alt="" /></p>
</li>
</ul>
<h3 id="post-paid-1"><a class="header" href="#post-paid-1">post-paid</a></h3>
<p>rating agent will</p>
<ul>
<li>authorize the customer to consume the service</li>
<li>generate <strong>rated proofs of service usage</strong> that will be aggregated on the customer bill (maintained by the service vendor)</li>
</ul>
<h3 id="prepaid--bucket-management-1"><a class="header" href="#prepaid--bucket-management-1">prepaid / bucket management</a></h3>
<p>rating agent will</p>
<ul>
<li>manage a <strong>stateful service bucket</strong> and consume it according to customer usage</li>
<li>report on the consuption of the service bucket</li>
<li>authorize the customer to consume the service</li>
<li>generates rated proofs of service usage, used for auditing / fraud detection</li>
</ul>
<h3 id="µ-payments-1"><a class="header" href="#µ-payments-1">µ-payments</a></h3>
<p>rating agent will</p>
<ul>
<li>trigger payment request and expect payment proof before allowing the usage of the service</li>
<li>authorize the customer to consume the service</li>
<li>generates rated proofs of service usage, used for auditing / fraud detection</li>
</ul>
<h2 id="agent-mandatory-traits-1"><a class="header" href="#agent-mandatory-traits-1">agent mandatory traits</a></h2>
<ul>
<li>authorizer trait: <code>authorize(identity) -&gt; key</code></li>
<li>rater trait: <code>rate(usage) -&gt; void</code></li>
</ul>
<h3 id="basic-case-1"><a class="header" href="#basic-case-1">basic case</a></h3>
<p><img src="ARCHIVE/./contract-agent-detailed.drawio.svg" alt="" /></p>
<h3 id="composite-case-1"><a class="header" href="#composite-case-1">composite case</a></h3>
<p><img src="ARCHIVE/./contract-agent-detailed-composite.drawio.svg" alt="" /></p>
<ul>
<li>note that there is &quot;shortcut&quot; in <code>3. get vendor identity</code>. It does not really return an identity but a &quot;vendor service subscription&quot; authorization token. Check next paragraph</li>
</ul>
<h2 id="identity-management-1"><a class="header" href="#identity-management-1">identity management</a></h2>
<p>The IAM have been simplified in the previous diagrams.</p>
<p>We distinguish</p>
<ul>
<li>Client identity (OIDC profile, OAuth token)</li>
<li>Client service subscription authorization token (OAuth token): traded from the client identity, represents the fact that the client has subscribed to the service, regardless its right to access the service (for instance with an empty bucket on a prepaid service)</li>
</ul>
<p>And the same for Service Vendors (which are Clients of Service Providers)</p>
<p>The authorizer trait signature is <code>authorize(service subscription authorization token) -&gt; key</code></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="about-wasmcloud"><a class="header" href="#about-wasmcloud">About wasmCloud</a></h1>
<p><img src="https://cosmonic.com/images/blogs/2022/wasmcloud-from-edge-to-cloud.png" alt="" /></p>
<h2 id="pros--cons"><a class="header" href="#pros--cons">Pros &amp; Cons</a></h2>
<p>wasmCloud pro &amp; cons of in the context of this prototype</p>
<ul>
<li>
<p><strong>pros</strong></p>
<ul>
<li>robust and ubiquous connectivity, network mesh over IP (inherited from NATS)</li>
<li>zero-trust by design (as long as the runtime is secure): signed nodes, payloads &amp; communications</li>
<li>efficient</li>
<li>event driven model, scalable, multi-region friendly</li>
<li>clean split between pure functions (ie. wasmCloud Actors) and internal states / outside world (ie. wasmCloud CapabilityProviders)</li>
<li>node runtime support many different hosts (vm, docker, k8s, browsers...)</li>
<li>polyglot platform (mostly Rust for now)</li>
</ul>
</li>
<li>
<p><strong>cons</strong></p>
<ul>
<li>young technology (in the CNCF sandbox, but quite active)</li>
<li>opinionated PaaS approach
<ul>
<li>no oob support from hyperscalers</li>
</ul>
</li>
<li>wip on orchestration / observability</li>
<li>important learning curve on development stack
<ul>
<li>rust as main programming language</li>
<li>cannot (or difficult to) leverage on existing rust framework</li>
<li>sometimes cryptic error messages</li>
<li>lack of extensive documentation</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>recommandations for this prototype</strong></p>
<ul>
<li>use wasmCloud &quot;at the egde&quot;, do not try to implement the whole solution with wasmCloud</li>
</ul>
</li>
</ul>
<h2 id="main-concepts"><a class="header" href="#main-concepts">Main concepts</a></h2>
<table><thead><tr><th>concept</th><th>caracteristics</th></tr></thead><tbody>
<tr><td>host</td><td>or node, runtime on a host, erlang VM</td></tr>
<tr><td>lattice</td><td>meshed netork, NATS</td></tr>
<tr><td>actors</td><td>wasm payloads, stateless functions, implementing an interface</td></tr>
<tr><td>capability providers</td><td>wasm payloads, stateful and attached to a node, offering services</td></tr>
<tr><td>links</td><td>declarative links between actors and capability providers</td></tr>
<tr><td>interface</td><td>functionnal interface of an actor / capability</td></tr>
</tbody></table>
<p>the wasmCloud dashboard
<img src="https://wasmcloud.com/images/blogs/ngs-global/dashboard.png" alt="dashboard" /></p>
<h2 id="resources"><a class="header" href="#resources">Resources</a></h2>
<h3 id="main-sites"><a class="header" href="#main-sites">main sites</a></h3>
<ul>
<li><a href="https://wasmcloud.com/">wasmcloud.com</a> - links, articles</li>
<li><a href="https://wasmcloud.dev/">wasmcloud.dev</a> - product documentation</li>
<li><a href="https://cosmonic.com/">cosmonic.com</a> - the company that supports the opensource</li>
<li><a href="https://nats.io">nats.io</a></li>
</ul>
<h3 id="documentation-and-trainings"><a class="header" href="#documentation-and-trainings">documentation and trainings</a></h3>
<ul>
<li><a href="https://wasmcloud.dev/overview/">wasmCloud doc</a></li>
<li><a href="https://docs.nats.io/">NATS doc</a></li>
<li><a href="https://labs.cosmonic.com/">Cosmonic: Introduction to wasmCloud &amp; WebAssembly basics</a></li>
<li><a href="https://training.linuxfoundation.org/training/webassembly-actors-from-cloud-to-edge-lfd134x/">Linux Foundation: WebAssembly Actors: From Cloud to Edge</a></li>
</ul>
<h3 id="articles"><a class="header" href="#articles">articles</a></h3>
<ul>
<li><a href="https://wasmcloud.com/blog/wasmcloud_third_anniversary/">Reflections on Three Years of wasmCloud, Kevin Hoffman</a></li>
<li><a href="https://wasmcloud.com/blog/webassembly_components_and_wasmcloud_actors_a_glimpse_of_the_future/">WebAssembly Components and wasmCloud Actors: A Glimpse of the Future, Taylor Thomas</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="architecture-1"><a class="header" href="#architecture-1">Architecture</a></h1>
<h2 id="components"><a class="header" href="#components">components</a></h2>
<ul>
<li>
<p>browser runtime</p>
<ul>
<li>javascript wasmCloud runtime deployed as javascript SDK</li>
</ul>
</li>
<li>
<p>user ident/authent</p>
<ul>
<li>OIDC / OAuth</li>
<li>expose service to recover browser runtime host-keys</li>
</ul>
</li>
<li>
<p>ngs</p>
<ul>
<li>NATS network</li>
</ul>
</li>
</ul>
<p><img src="ARCHIVE/./architecture.drawio.svg" alt="architecture" /></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="prototype-architecture"><a class="header" href="#prototype-architecture">Prototype Architecture</a></h1>
<h2 id="actor-model"><a class="header" href="#actor-model">actor model</a></h2>
<p><img src="ARCHIVE/prototype-architecture.drawio.svg" alt="" /></p>
<h2 id="git-repos"><a class="header" href="#git-repos">git repos</a></h2>
<pre><code>├── generic
│   ├── agent-api-provider
│   ├── agent-storage-provider
│   └── collector-provider
├── interface
│   ├── agent-storage-interface
│   ├── authorizer-interface
│   ├── collector-interface
│   └── rater-interface
├── specific-orange
│   ├── orange-offer1-agent
│   └── orange-offer1-authorization-provider
└── specific-vendor1
    ├── vendor1-offer1-agent
    └── vendor1-offer1-authorization-provider
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="technical-requirements-and-questions-wip"><a class="header" href="#technical-requirements-and-questions-wip">Technical requirements and questions (WIP)</a></h1>
<h2 id="project-specific"><a class="header" href="#project-specific">project specific</a></h2>
<h3 id="fraud--risk-analysis"><a class="header" href="#fraud--risk-analysis">fraud / risk analysis</a></h3>
<ul>
<li>
<p>is there a risk of a rating-agent doing non-legitimate modifications of its associated bucket / an other bucket?</p>
</li>
<li>
<p>if those risks are too high, can we have &quot;server-side&quot; rating agent proxy to mitigate them?</p>
</li>
</ul>
<h3 id="stateless-agents"><a class="header" href="#stateless-agents">stateless agents</a></h3>
<ul>
<li>how to manage efficiently agents configuration in a stateless word? (caching mechanisms / via dedicated local capability providers?)</li>
</ul>
<h3 id="interagent-communication"><a class="header" href="#interagent-communication">interagent communication</a></h3>
<ul>
<li>how to ensure an actor (rating agent for instance) only speak to its conterpart (collector agent for instance)</li>
</ul>
<h2 id="wasmcloud-generic"><a class="header" href="#wasmcloud-generic">wasmCloud generic</a></h2>
<h3 id="keep-the-rating-agent-code-public-"><a class="header" href="#keep-the-rating-agent-code-public-">keep the rating agent code public ?</a></h3>
<ul>
<li>link between the source code and the wasmCloud actor on OCI regristry ?</li>
</ul>
<h3 id="message-delivery-guarantee"><a class="header" href="#message-delivery-guarantee">message delivery guarantee</a></h3>
<ul>
<li>by design &quot;naked NATS&quot; does <a href="https://docs.nats.io/nats-concepts/overview/compare-nats">not guarantee message delivery</a>, does wasmCloud implement it?</li>
</ul>
<h3 id="do-interfaces-support-inheritance-"><a class="header" href="#do-interfaces-support-inheritance-">do interfaces support inheritance ?</a></h3>
<h3 id="how-to-use-links"><a class="header" href="#how-to-use-links">how to use links</a></h3>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
                        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
                
    </body>
</html>
